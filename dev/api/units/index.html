<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Units &amp; Conversion · SDMXer.jl</title><meta name="title" content="Units &amp; Conversion · SDMXer.jl"/><meta property="og:title" content="Units &amp; Conversion · SDMXer.jl"/><meta property="twitter:title" content="Units &amp; Conversion · SDMXer.jl"/><meta name="description" content="Documentation for SDMXer.jl."/><meta property="og:description" content="Documentation for SDMXer.jl."/><meta property="twitter:description" content="Documentation for SDMXer.jl."/><meta property="og:url" content="https://baffelan.github.io/SDMXer.jl/api/units/"/><meta property="twitter:url" content="https://baffelan.github.io/SDMXer.jl/api/units/"/><link rel="canonical" href="https://baffelan.github.io/SDMXer.jl/api/units/"/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">SDMXer.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../getting_started/">Getting Started</a></li><li><span class="tocitem">API Reference</span><ul><li><a class="tocitem" href="../schema/">Schema &amp; Metadata</a></li><li><a class="tocitem" href="../codelists/">Codelists</a></li><li><a class="tocitem" href="../availability/">Availability</a></li><li><a class="tocitem" href="../validation/">Validation</a></li><li><a class="tocitem" href="../queries/">Data Queries</a></li><li><a class="tocitem" href="../pipelines/">Pipelines</a></li><li><a class="tocitem" href="../elements/">Elements</a></li><li><a class="tocitem" href="../utilities/">Utilities</a></li><li class="is-active"><a class="tocitem" href>Units &amp; Conversion</a><ul class="internal"><li><a class="tocitem" href="#Types"><span>Types</span></a></li><li><a class="tocitem" href="#Constants"><span>Constants</span></a></li><li><a class="tocitem" href="#Unit-Mapping"><span>Unit Mapping</span></a></li><li><a class="tocitem" href="#Exchange-Rates"><span>Exchange Rates</span></a></li></ul></li><li><a class="tocitem" href="../joins/">Cross-Dataflow Joins</a></li></ul></li><li><a class="tocitem" href="../../examples/">Examples</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">API Reference</a></li><li class="is-active"><a href>Units &amp; Conversion</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Units &amp; Conversion</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/Baffelan/SDMXer.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/Baffelan/SDMXer.jl/blob/main/docs/src/api/units.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Units-and-Conversion"><a class="docs-heading-anchor" href="#Units-and-Conversion">Units &amp; Conversion</a><a id="Units-and-Conversion-1"></a><a class="docs-heading-anchor-permalink" href="#Units-and-Conversion" title="Permalink"></a></h1><p>Unitful integration for SDMX unit codes, currency exchange rates, and unit conversion utilities.</p><h2 id="Types"><a class="docs-heading-anchor" href="#Types">Types</a><a id="Types-1"></a><a class="docs-heading-anchor-permalink" href="#Types" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="SDMXer.SDMXUnitSpec"><a class="docstring-binding" href="#SDMXer.SDMXUnitSpec"><code>SDMXer.SDMXUnitSpec</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">SDMXUnitSpec</code></pre><p>Maps an SDMX unit code to a Unitful unit with metadata.</p><p><strong>Fields</strong></p><ul><li><code>code::String</code>: The SDMX UNIT_MEASURE code (e.g., &quot;KG&quot;, &quot;T&quot;, &quot;USD&quot;)</li><li><code>unit::Unitful.Units</code>: The corresponding Unitful unit</li><li><code>category::Symbol</code>: Unit category (:mass, :volume, :currency, :energy, :area, :dimensionless, :other)</li><li><code>description::String</code>: Human-readable description</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Baffelan/SDMXer.jl/blob/98c2cb61769b4fdd07d822bc104ba70b6c24b133/src/SDMXUnits.jl#L63-L73">source</a></section></details></article><article><details class="docstring" open="true"><summary id="SDMXer.ExchangeRateTable"><a class="docstring-binding" href="#SDMXer.ExchangeRateTable"><code>SDMXer.ExchangeRateTable</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">ExchangeRateTable</code></pre><p>Stores exchange rates for cross-currency conversion.</p><p>All rates are stored as domestic currency per 1 USD. Cross-rates are derived automatically. Users can override rates with <code>add_rate!</code>.</p><p><strong>Fields</strong></p><ul><li><code>rates::Dict{Tuple{String,String}, Float64}</code>: Map from (from, to) currency pair to rate</li><li><code>reference_date::String</code>: Reference date for the rates</li><li><code>source::String</code>: Source description for the rates</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">table = ExchangeRateTable()
add_rate!(table, &quot;USD&quot;, &quot;FJD&quot;, 2.299)
add_rate!(table, &quot;USD&quot;, &quot;AUD&quot;, 1.552)
rate = get_rate(table, &quot;FJD&quot;, &quot;AUD&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Baffelan/SDMXer.jl/blob/98c2cb61769b4fdd07d822bc104ba70b6c24b133/src/SDMXUnits.jl#L81-L101">source</a></section></details></article><h2 id="Constants"><a class="docs-heading-anchor" href="#Constants">Constants</a><a id="Constants-1"></a><a class="docs-heading-anchor-permalink" href="#Constants" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="SDMXer.SDMX_UNIT_MAP"><a class="docstring-binding" href="#SDMXer.SDMX_UNIT_MAP"><code>SDMXer.SDMX_UNIT_MAP</code></a> — <span class="docstring-category">Constant</span></summary><section><div><pre><code class="language-julia hljs">SDMX_UNIT_MAP</code></pre><p>Maps ~30 common SDMX UNIT_MEASURE codes to SDMXUnitSpec. Covers SPC Pacific Data Hub codes and common international codes.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Baffelan/SDMXer.jl/blob/98c2cb61769b4fdd07d822bc104ba70b6c24b133/src/SDMXUnits.jl#L118-L123">source</a></section></details></article><h2 id="Unit-Mapping"><a class="docs-heading-anchor" href="#Unit-Mapping">Unit Mapping</a><a id="Unit-Mapping-1"></a><a class="docs-heading-anchor-permalink" href="#Unit-Mapping" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="SDMXer.sdmx_to_unitful"><a class="docstring-binding" href="#SDMXer.sdmx_to_unitful"><code>SDMXer.sdmx_to_unitful</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">sdmx_to_unitful(code::AbstractString) -&gt; Union{SDMXUnitSpec, Nothing}</code></pre><p>Look up an SDMX UNIT_MEASURE code and return its SDMXUnitSpec, or <code>nothing</code> if unknown.</p><p>Accepts any AbstractString subtype (String, String7, SubString, etc.) so it works directly with CSV.jl InlineStrings columns.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">spec = sdmx_to_unitful(&quot;KG&quot;)
spec.unit  # kg
spec.category  # :mass

sdmx_to_unitful(&quot;UNKNOWN&quot;)  # nothing</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Baffelan/SDMXer.jl/blob/98c2cb61769b4fdd07d822bc104ba70b6c24b133/src/SDMXUnits.jl#L167-L183">source</a></section></details></article><article><details class="docstring" open="true"><summary id="SDMXer.are_units_convertible"><a class="docstring-binding" href="#SDMXer.are_units_convertible"><code>SDMXer.are_units_convertible</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">are_units_convertible(code_a::AbstractString, code_b::AbstractString) -&gt; Bool</code></pre><p>Check whether two SDMX unit codes are convertible via Unitful dimensional analysis. Returns <code>false</code> for cross-currency pairs (same dimension but conversion requires rates).</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">are_units_convertible(&quot;KG&quot;, &quot;T&quot;)   # true  — same mass dimension
are_units_convertible(&quot;KG&quot;, &quot;L&quot;)   # false — mass vs volume
are_units_convertible(&quot;USD&quot;, &quot;EUR&quot;) # false — currencies need exchange rates</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Baffelan/SDMXer.jl/blob/98c2cb61769b4fdd07d822bc104ba70b6c24b133/src/SDMXUnits.jl#L188-L200">source</a></section></details></article><article><details class="docstring" open="true"><summary id="SDMXer.conversion_factor"><a class="docstring-binding" href="#SDMXer.conversion_factor"><code>SDMXer.conversion_factor</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">conversion_factor(from::AbstractString, to::AbstractString) -&gt; Union{Float64, Nothing}</code></pre><p>Return the deterministic conversion factor from one SDMX unit to another. Returns <code>nothing</code> for currencies (use ExchangeRateTable instead) or incompatible units.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">conversion_factor(&quot;KG&quot;, &quot;T&quot;)   # 0.001
conversion_factor(&quot;T&quot;, &quot;KG&quot;)   # 1000.0
conversion_factor(&quot;USD&quot;, &quot;EUR&quot;) # nothing — use exchange rates
conversion_factor(&quot;KG&quot;, &quot;L&quot;)   # nothing — incompatible dimensions</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Baffelan/SDMXer.jl/blob/98c2cb61769b4fdd07d822bc104ba70b6c24b133/src/SDMXUnits.jl#L214-L227">source</a></section></details></article><article><details class="docstring" open="true"><summary id="SDMXer.unit_multiplier"><a class="docstring-binding" href="#SDMXer.unit_multiplier"><code>SDMXer.unit_multiplier</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">unit_multiplier(mult_code) -&gt; Float64</code></pre><p>Convert an SDMX UNIT_MULT code (power-of-10 exponent) to its numeric multiplier.</p><p>Common values: 0 → 1, 3 → 1000, 6 → 1e6, 9 → 1e9</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">unit_multiplier(0)    # 1.0
unit_multiplier(3)    # 1000.0
unit_multiplier(6)    # 1.0e6
unit_multiplier(&quot;3&quot;)  # 1000.0
unit_multiplier(nothing)  # 1.0
unit_multiplier(missing)  # 1.0</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Baffelan/SDMXer.jl/blob/98c2cb61769b4fdd07d822bc104ba70b6c24b133/src/SDMXUnits.jl#L237-L253">source</a></section></details></article><h2 id="Exchange-Rates"><a class="docs-heading-anchor" href="#Exchange-Rates">Exchange Rates</a><a id="Exchange-Rates-1"></a><a class="docs-heading-anchor-permalink" href="#Exchange-Rates" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="SDMXer.add_rate!"><a class="docstring-binding" href="#SDMXer.add_rate!"><code>SDMXer.add_rate!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">add_rate!(table::ExchangeRateTable, from::AbstractString, to::AbstractString, rate::Float64)</code></pre><p>Add an exchange rate to the table. Automatically adds the inverse rate.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">table = ExchangeRateTable()
add_rate!(table, &quot;USD&quot;, &quot;FJD&quot;, 2.299)
# Now table has both USD→FJD (2.299) and FJD→USD (1/2.299)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Baffelan/SDMXer.jl/blob/98c2cb61769b4fdd07d822bc104ba70b6c24b133/src/SDMXUnits.jl#L262-L273">source</a></section></details></article><article><details class="docstring" open="true"><summary id="SDMXer.get_rate"><a class="docstring-binding" href="#SDMXer.get_rate"><code>SDMXer.get_rate</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">get_rate(table::ExchangeRateTable, from::AbstractString, to::AbstractString) -&gt; Union{Float64, Nothing}</code></pre><p>Get the exchange rate from one currency to another. Tries direct lookup first, then derives cross-rate via USD if both USD-based rates exist.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">table = default_exchange_rates()
get_rate(table, &quot;USD&quot;, &quot;FJD&quot;)  # 2.299
get_rate(table, &quot;FJD&quot;, &quot;AUD&quot;)  # derived cross-rate
get_rate(table, &quot;XXX&quot;, &quot;YYY&quot;)  # nothing</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Baffelan/SDMXer.jl/blob/98c2cb61769b4fdd07d822bc104ba70b6c24b133/src/SDMXUnits.jl#L282-L295">source</a></section></details></article><article><details class="docstring" open="true"><summary id="SDMXer.convert_currency"><a class="docstring-binding" href="#SDMXer.convert_currency"><code>SDMXer.convert_currency</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">convert_currency(value::Real, from::AbstractString, to::AbstractString, table::ExchangeRateTable) -&gt; Union{Float64, Nothing}</code></pre><p>Convert a monetary value from one currency to another using the exchange rate table. Returns <code>nothing</code> if no rate is available.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">table = default_exchange_rates()
convert_currency(100.0, &quot;USD&quot;, &quot;FJD&quot;, table)  # ≈ 229.9
convert_currency(100.0, &quot;FJD&quot;, &quot;AUD&quot;, table)  # derived via cross-rate</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Baffelan/SDMXer.jl/blob/98c2cb61769b4fdd07d822bc104ba70b6c24b133/src/SDMXUnits.jl#L312-L324">source</a></section></details></article><article><details class="docstring" open="true"><summary id="SDMXer.default_exchange_rates"><a class="docstring-binding" href="#SDMXer.default_exchange_rates"><code>SDMXer.default_exchange_rates</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">default_exchange_rates() -&gt; ExchangeRateTable</code></pre><p>Return an ExchangeRateTable pre-populated with IMF 2025 annual period-average rates (domestic currency per 1 USD).</p><p>These are approximate default rates intended for quick analysis. For production use, supply your own rates via <code>add_rate!</code> or build a fresh table.</p><table><tr><th style="text-align: right">Currency</th><th style="text-align: right">Per 1 USD</th><th style="text-align: right">Year</th></tr><tr><td style="text-align: right">AUD</td><td style="text-align: right">1.5520</td><td style="text-align: right">2025</td></tr><tr><td style="text-align: right">EUR</td><td style="text-align: right">0.8850</td><td style="text-align: right">2025</td></tr><tr><td style="text-align: right">FJD</td><td style="text-align: right">2.2990</td><td style="text-align: right">2025</td></tr><tr><td style="text-align: right">GBP</td><td style="text-align: right">0.7595</td><td style="text-align: right">2025</td></tr><tr><td style="text-align: right">JPY</td><td style="text-align: right">149.66</td><td style="text-align: right">2025</td></tr><tr><td style="text-align: right">NZD</td><td style="text-align: right">1.7201</td><td style="text-align: right">2025</td></tr><tr><td style="text-align: right">PGK</td><td style="text-align: right">4.1227</td><td style="text-align: right">2025</td></tr><tr><td style="text-align: right">SBD</td><td style="text-align: right">8.3268</td><td style="text-align: right">2025</td></tr><tr><td style="text-align: right">TOP</td><td style="text-align: right">2.3730</td><td style="text-align: right">2024</td></tr><tr><td style="text-align: right">VUV</td><td style="text-align: right">119.17</td><td style="text-align: right">2024</td></tr><tr><td style="text-align: right">WST</td><td style="text-align: right">2.7915</td><td style="text-align: right">2025</td></tr></table></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Baffelan/SDMXer.jl/blob/98c2cb61769b4fdd07d822bc104ba70b6c24b133/src/SDMXUnits.jl#L331-L353">source</a></section></details></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../utilities/">« Utilities</a><a class="docs-footer-nextpage" href="../joins/">Cross-Dataflow Joins »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Tuesday 10 February 2026 03:56">Tuesday 10 February 2026</span>. Using Julia version 1.11.9.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
